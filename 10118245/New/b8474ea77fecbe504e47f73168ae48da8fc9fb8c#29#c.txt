[{"block": 0, "type": "markdown", "linesLength": 5, "startIndex": 0, "lines": ["<style>div.title-slide {    width: 100%;    display: flex;    flex-direction: row;            /* default value; can be omitted */    flex-wrap: nowrap;              /* default value; can be omitted */    justify-content: space-between;}</style><div class=\"title-slide\">\n", "<span style=\"float:left;\">Licence CC BY-NC-ND</span>\n", "<span>Thierry Parmentelat &amp; Arnaud Legout</span>\n", "<span><img src=\"media/both-logos-small-alpha.png\" style=\"display:inline\" /></span>\n", "</div>"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 5, "lines": ["# Tris de listes"]}, {"block": 2, "type": "markdown", "linesLength": 1, "startIndex": 6, "lines": ["## Compl\u00e9ment - niveau basique"]}, {"block": 3, "type": "markdown", "linesLength": 1, "startIndex": 7, "lines": ["Python fournit une m\u00e9thode standard pour trier une liste, qui s'appelle, sans grande surprise, `sort`. "]}, {"block": 4, "type": "markdown", "linesLength": 1, "startIndex": 8, "lines": ["### La m\u00e9thode `sort`"]}, {"block": 5, "type": "markdown", "linesLength": 1, "startIndex": 9, "lines": ["Voyons comment se comporte `sort` sur un exemple simple."]}, {"block": 6, "type": "code", "linesLength": 4, "startIndex": 10, "lines": ["liste = [8, 7, 4, 3, 2, 9, 1, 5, 6]\n", "print('avant tri', liste)\n", "liste.sort()\n", "print('apres tri', liste)"]}, {"block": 7, "type": "markdown", "linesLength": 1, "startIndex": 14, "lines": ["On retrouve ici, avec l'instruction `liste.sort()` un cas d'appel de m\u00e9thode (ici `sort`) sur un objet (ici `liste`), comme on l'avait vu dans la vid\u00e9o sur la notion d'objet."]}, {"block": 8, "type": "markdown", "linesLength": 1, "startIndex": 15, "lines": ["La premi\u00e8re chose \u00e0 remarquer est que la liste d'entr\u00e9e a \u00e9t\u00e9 modifi\u00e9e, on dit \"en place\", ou encore \"par effet de bord\". Voyons cela sous pythontutor:"]}, {"block": 9, "type": "code", "linesLength": 1, "startIndex": 16, "lines": ["%load_ext ipythontutor"]}, {"block": 10, "type": "code", "linesLength": 3, "startIndex": 17, "lines": ["%%ipythontutor height=200 ratio=0.8\n", "liste = [3, 2, 9, 1]\n", "liste.sort()"]}, {"block": 11, "type": "markdown", "linesLength": 1, "startIndex": 20, "lines": ["On aurait pu imaginer que la liste d'entr\u00e9e soit rest\u00e9e inchang\u00e9e, et que la m\u00e9thode de tri renvoie une copie tri\u00e9e de la liste, ce n'est pas le choix qui a \u00e9t\u00e9 fait, cela permet d'\u00e9conomiser des allocations m\u00e9moire autant que possible et d'acc\u00e9l\u00e9rer sensiblement le tri."]}, {"block": 12, "type": "markdown", "linesLength": 1, "startIndex": 21, "lines": ["### La fonction `sorted`"]}, {"block": 13, "type": "markdown", "linesLength": 1, "startIndex": 22, "lines": ["Si vous avez besoin de faire le tri sur une copie de votre liste, la fonction `sorted` vous permet de le faire: "]}, {"block": 14, "type": "code", "linesLength": 3, "startIndex": 23, "lines": ["%%ipythontutor height=200 ratio=0.8\n", "liste1 = [3, 2, 9, 1]\n", "liste2 = sorted(liste1)"]}, {"block": 15, "type": "markdown", "linesLength": 1, "startIndex": 26, "lines": ["### Tri d\u00e9croissant"]}, {"block": 16, "type": "markdown", "linesLength": 1, "startIndex": 27, "lines": ["Revenons \u00e0 la m\u00e9thode `sort` et aux tris *en place*. Par d\u00e9faut la liste est tri\u00e9e par ordre croissant, si au contraire vous voulez l'ordre d\u00e9croissant, faites comme ceci:"]}, {"block": 17, "type": "code", "linesLength": 4, "startIndex": 28, "lines": ["liste = [8, 7, 4, 3, 2, 9, 1, 5, 6]\n", "print('avant tri', liste)\n", "liste.sort(reverse=True)\n", "print('apres tri d\u00e9croissant', liste)"]}, {"block": 18, "type": "markdown", "linesLength": 1, "startIndex": 32, "lines": ["Nous n'avons pas encore vu \u00e0 quoi correspond cette formule `reverse=True` dans l'appel \u00e0 la m\u00e9thode - ceci sera approfondi dans le chapitre sur les appels de fonction - mais dans l'imm\u00e9diat vous pouvez utiliser cette technique telle quelle."]}, {"block": 19, "type": "markdown", "linesLength": 1, "startIndex": 33, "lines": ["### Cha\u00eenes de caract\u00e8res"]}, {"block": 20, "type": "markdown", "linesLength": 1, "startIndex": 34, "lines": ["Cette technique fonctionne tr\u00e8s bien sur tous les types num\u00e9riques (enfin, \u00e0 l'exception des complexes; en guise d'exercice: pourquoi ?), ainsi que sur les cha\u00eenes de caract\u00e8res:"]}, {"block": 21, "type": "code", "linesLength": 3, "startIndex": 35, "lines": ["liste = ['spam', 'egg', 'bacon', 'beef']\n", "liste.sort()\n", "print('apr\u00e8s tri', liste)"]}, {"block": 22, "type": "markdown", "linesLength": 1, "startIndex": 38, "lines": ["Comme on s'y attend, il s'agit cette fois d'un **tri lexicographique**, d\u00e9riv\u00e9 de l'ordre sur les caract\u00e8res. Autrement dit, c'est l'ordre du dictionnaire. Il faut souligner toutefois, pour les personnes n'ayant jamais \u00e9t\u00e9 expos\u00e9es \u00e0 l'informatique, que cet ordre, quoique d\u00e9terministe, est arbitraire en dehors des lettres de l'alphabet."]}, {"block": 23, "type": "markdown", "linesLength": 1, "startIndex": 39, "lines": ["Ainsi par exemple:"]}, {"block": 24, "type": "code", "linesLength": 3, "startIndex": 40, "lines": ["# deux caract\u00e8res minuscules se comparent \n", "# comme on s'y attend\n", "'a' < 'z'"]}, {"block": 25, "type": "markdown", "linesLength": 1, "startIndex": 43, "lines": ["Bon, mais par contre:"]}, {"block": 26, "type": "code", "linesLength": 3, "startIndex": 44, "lines": ["# si l'un est en minuscule et l'autre en majuscule, \n", "# ce n'est plus le cas\n", "'Z' < 'a'"]}, {"block": 27, "type": "markdown", "linesLength": 1, "startIndex": 47, "lines": ["Ce qui \u00e0 son tour explique ceci:"]}, {"block": 28, "type": "code", "linesLength": 4, "startIndex": 48, "lines": ["# la cons\u00e9quence de 'Z' < 'a', c'est que\n", "liste = ['abc', 'Zoo']\n", "liste.sort()\n", "print(liste)"]}, {"block": 29, "type": "markdown", "linesLength": 1, "startIndex": 52, "lines": ["Et lorsque les chaines contiennent des espaces ou autres ponctuations, le r\u00e9sultat du tri peut para\u00eetre surprenant:"]}, {"block": 30, "type": "code", "linesLength": 6, "startIndex": 53, "lines": ["# attention ici notre premiere chaine commence par un espace\n", "# et le caract\u00e8re 'Espace' est plus petit \n", "# que tous les autres caract\u00e8res imprimables\n", "liste = [' zoo', 'ane']\n", "liste.sort()\n", "print(liste)"]}, {"block": 31, "type": "markdown", "linesLength": 1, "startIndex": 59, "lines": ["### \u00c0 suivre"]}, {"block": 32, "type": "markdown", "linesLength": 1, "startIndex": 60, "lines": ["Il est possible de d\u00e9finir soi-m\u00eame le crit\u00e8re \u00e0 utiliser pour trier une liste, et nous verrons cela bient\u00f4t, une fois que nous aurons introduit la notion de fonction."]}]