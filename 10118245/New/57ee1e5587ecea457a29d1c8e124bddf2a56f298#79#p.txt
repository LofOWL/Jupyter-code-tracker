[{"block": 0, "type": "markdown", "linesLength": 1, "startIndex": 0, "lines": ["<span style=\"float:left;\">Licence CC BY-NC-ND</span><span style=\"float:right;\">Thierry Parmentelat &amp; Arnaud Legout&nbsp;<img src=\"media/inria-25.png\" style=\"display:inline\"></span><br/>"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 1, "lines": ["# Passage d'arguments par r\u00e9f\u00e9rence"]}, {"block": 2, "type": "markdown", "linesLength": 1, "startIndex": 2, "lines": ["## Compl\u00e9ment - niveau interm\u00e9diaire"]}, {"block": 3, "type": "markdown", "linesLength": 1, "startIndex": 3, "lines": ["Entre le code qui appelle une fonction, et le code de la fonction elle-m\u00eame:"]}, {"block": 4, "type": "markdown", "linesLength": 3, "startIndex": 4, "lines": ["on peut se demander quelle est exactement la nature de la relation entre l'appelant et l'appel\u00e9, c'est-\u00e0-dire ici `dans_appelant` et `dans_fonction`. ", "", "C'est l'objet de ce compl\u00e9ment."]}, {"block": 5, "type": "markdown", "linesLength": 1, "startIndex": 7, "lines": ["### Passage par valeur - passage par r\u00e9f\u00e9rence "]}, {"block": 6, "type": "markdown", "linesLength": 3, "startIndex": 8, "lines": ["Si vous avez appris d'autres langages de programmation comme C ou C++, on a pu vous parler de deux modes de passage de param\u00e8tres:", " * par valeur: cela signifie qu'on communique \u00e0 la fonction, non pas l'entit\u00e9 dans l'appelant, mais seulement **sa valeur**; en clair, **une copie**;", " * par r\u00e9f\u00e9rence: cela signifie qu'on passe \u00e0 la fonction une **r\u00e9f\u00e9rence** \u00e0 l'argument dans l'appelant, donc essentiellement les deux codes **partagent** la m\u00eame m\u00e9moire."]}, {"block": 7, "type": "markdown", "linesLength": 1, "startIndex": 11, "lines": ["### python fait du passage par r\u00e9f\u00e9rence"]}, {"block": 8, "type": "markdown", "linesLength": 3, "startIndex": 12, "lines": ["Certains langages comme Pascal - et C++ si on veut - proposent ces deux modes. En python, tous les passage de param\u00e8tres se font **par r\u00e9f\u00e9rence**.", "", "Ce qui signifie qu'on peut voir le code ci-dessus comme \u00e9tant - pour simplifier - \u00e9quivalent \u00e0 ceci"]}, {"block": 9, "type": "markdown", "linesLength": 1, "startIndex": 15, "lines": ["On peut le voir en instrumentant le code comme ceci (on rappelle que la fonction built-in `id` retourne l'adresse m\u00e9moire d'un objet)"]}, {"block": 10, "type": "markdown", "linesLength": 1, "startIndex": 16, "lines": ["### Des r\u00e9f\u00e9rences partag\u00e9es"]}, {"block": 11, "type": "markdown", "linesLength": 1, "startIndex": 17, "lines": ["Et notamment, tout ce que l'on a vu la semaine pass\u00e9e sur les r\u00e9f\u00e9rences partag\u00e9es s'applique \u00e0 l'identique."]}, {"block": 12, "type": "markdown", "linesLength": 3, "startIndex": 18, "lines": ["Pour cette raison, il est important de bien pr\u00e9ciser, quand vous documentez une fonction, si elle fait des effets de bord sur ses arguments (c'est-\u00e0-dire qu'elle modifie ses arguments), ou si elle produit une copie. Rappelez-vous par exemple le cas de la m\u00e9thode `sort` sur les listes, et de la fonction de commodit\u00e9 `sorted`, que nous avions vues en semaine 2.", "", "De cette fa\u00e7on, on saura s'il faut ou non copier l'argument avant de le passer \u00e0 votre fonction."]}]