[{"block": 0, "type": "markdown", "linesLength": 1, "startIndex": 0, "lines": ["<span style=\"float:left;\">Licence CC BY-NC-ND</span><span style=\"float:right;\">Thierry Parmentelat &amp; Arnaud Legout&nbsp;<img src=\"media/both-logos-small-alpha.png\" style=\"display:inline\"></span><br/>"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 1, "lines": ["# Utiliser python comme une calculette"]}, {"block": 2, "type": "markdown", "linesLength": 1, "startIndex": 2, "lines": ["Lorsque vous d\u00e9marrez l'interpr\u00e8te python, vous disposez en fait d'une calculette; par exemple vous pouvez taper"]}, {"block": 3, "type": "code", "linesLength": 1, "startIndex": 3, "lines": ["20 * 60"]}, {"block": 4, "type": "markdown", "linesLength": 1, "startIndex": 4, "lines": ["Les r\u00e8gles de **priorit\u00e9** entre les op\u00e9rateurs sont habituelles, les produits et divisions sont \u00e9valu\u00e9s en premier, ensuite les sommes et soustractions:"]}, {"block": 5, "type": "code", "linesLength": 1, "startIndex": 5, "lines": [" 2 * 30 + 10 * 5"]}, {"block": 6, "type": "markdown", "linesLength": 3, "startIndex": 6, "lines": ["De mani\u00e8re g\u00e9n\u00e9rale, il est recommand\u00e9 de bien parenth\u00e9ser ses expressions. De plus, les parenth\u00e8ses facilitent la lecture d'expressions complexes. \n", "\n", "Par exemple, il vaut mieux \u00e9crire ce qui suit, qui est \u00e9quivalent mais plus lisible:"]}, {"block": 7, "type": "code", "linesLength": 1, "startIndex": 9, "lines": ["(2 * 30) + (10 * 5)"]}, {"block": 8, "type": "markdown", "linesLength": 7, "startIndex": 10, "lines": ["Rappelez-vous des op\u00e9rateurs suivants qui sont tr\u00e8s pratiques\n", "\n", "| code | op\u00e9ration |\n", "|------|-----------|\n", "| `//`   | quotient  |\n", "| `%`    | modulo    |\n", "| `**`   | puissance |"]}, {"block": 9, "type": "code", "linesLength": 2, "startIndex": 17, "lines": ["# calculer un quotient (attention: diff\u00e9rent en python2)\n", "48 // 5"]}, {"block": 10, "type": "code", "linesLength": 2, "startIndex": 19, "lines": ["# modulo\n", "48 % 5"]}, {"block": 11, "type": "code", "linesLength": 2, "startIndex": 21, "lines": ["# puissance\n", "2 ** 10"]}, {"block": 12, "type": "markdown", "linesLength": 1, "startIndex": 23, "lines": ["Vous pouvez facilement faire aussi des calculs sur les complexes; souvenez-vous seulement que la constante complexe que nous notons en fran\u00e7ais `i` se note en python `j`, ce choix a \u00e9t\u00e9 fait par le BDFL - alias Guido van Rossum - pour des raisons de lisibilit\u00e9&nbsp;:"]}, {"block": 13, "type": "code", "linesLength": 2, "startIndex": 24, "lines": ["# multiplication de deux nombres complexes\n", "(2 + 3j) * 2.5j"]}, {"block": 14, "type": "markdown", "linesLength": 1, "startIndex": 26, "lines": ["Aussi, pour entrer ce nombre complexe `j`, il faut toujours le faire pr\u00e9c\u00e9der d'un nombre, donc ne pas entrer simplement `j` (qui serait compris comme un nom de variable, nous allons voir \u00e7a tout de suite) mais plut\u00f4t `1j` ou encore `1.j`, comme ceci"]}, {"block": 15, "type": "code", "linesLength": 1, "startIndex": 27, "lines": ["1j * 1.j"]}, {"block": 16, "type": "markdown", "linesLength": 1, "startIndex": 28, "lines": ["### Utiliser des variables"]}, {"block": 17, "type": "markdown", "linesLength": 1, "startIndex": 29, "lines": ["Il peut \u00eatre utile de stocker un r\u00e9sultat qui sera utilis\u00e9 plus tard, ou de d\u00e9finir une valeur constante; pour cela on utilise tout simplement une affectation comme ceci:"]}, {"block": 18, "type": "code", "linesLength": 2, "startIndex": 30, "lines": ["# pour d\u00e9finir une variable il suffit de lui assigner une valeur\n", "largeur = 5"]}, {"block": 19, "type": "markdown", "linesLength": 1, "startIndex": 32, "lines": ["Puis"]}, {"block": 20, "type": "code", "linesLength": 2, "startIndex": 33, "lines": ["# une fois la variable d\u00e9finie, on peut l'utiliser, ici comme un nombre\n", "largeur * 20"]}, {"block": 21, "type": "code", "linesLength": 2, "startIndex": 35, "lines": ["# apr\u00e8s quoi bien s\u00fbr la variable reste inchang\u00e9e\n", "largeur * 10"]}, {"block": 22, "type": "markdown", "linesLength": 1, "startIndex": 37, "lines": ["Pour les symboles math\u00e9matiques, on peut utiliser la m\u00eame technique"]}, {"block": 23, "type": "code", "linesLength": 3, "startIndex": 38, "lines": ["# pour d\u00e9finir un r\u00e9el, on utilise le point au lieu d'une virgule en fran\u00e7ais\n", "pi = 3.14159\n", "2 * pi * 10"]}, {"block": 24, "type": "markdown", "linesLength": 1, "startIndex": 41, "lines": ["Pour les valeurs sp\u00e9ciales comme $\\pi$, on peut utiliser les valeurs pr\u00e9d\u00e9finies par la librairie math\u00e9matique de python. En anticipant un peu sur la notion d'importation que nous approfondirons plus tard, on peut \u00e9crire:"]}, {"block": 25, "type": "code", "linesLength": 1, "startIndex": 42, "lines": ["from math import e, pi"]}, {"block": 26, "type": "markdown", "linesLength": 3, "startIndex": 43, "lines": ["Et ainsi imprimer les racines troisi\u00e8mes de l'unit\u00e9 par la formule\n", "\n", "$r_n = e^{2i\\pi \\frac{n}{3}},$ pour $n\\in \\{0,1,2\\}$"]}, {"block": 27, "type": "code", "linesLength": 6, "startIndex": 46, "lines": ["n = 0\n", "print(\"n=\", n, \"racine = \", e**((2*pi*1j*n)/3))\n", "n = 1\n", "print(\"n=\", n, \"racine = \", e**((2*pi*1j*n)/3))\n", "n = 2\n", "print(\"n=\", n, \"racine = \", e**((2*pi*1j*n)/3))"]}, {"block": 28, "type": "markdown", "linesLength": 1, "startIndex": 52, "lines": ["**Remarque:** bien entendu il sera possible de faire ceci plus simplement lorsque nous aurons vu les boucles `for`."]}, {"block": 29, "type": "markdown", "linesLength": 1, "startIndex": 53, "lines": ["### Les types"]}, {"block": 30, "type": "markdown", "linesLength": 1, "startIndex": 54, "lines": ["Ce qui change par rapport \u00e0 une calculatrice standard est le fait que les valeurs sont typ\u00e9es. Pour illustrer les trois types de nombres que nous avons vus jusqu'ici:"]}, {"block": 31, "type": "code", "linesLength": 2, "startIndex": 55, "lines": ["# le type entier s'appelle 'int'\n", "type(3)"]}, {"block": 32, "type": "code", "linesLength": 2, "startIndex": 57, "lines": ["# le type flottant s'appelle 'float'\n", "type(3.5)"]}, {"block": 33, "type": "code", "linesLength": 2, "startIndex": 59, "lines": ["# le type complexe s'appelle 'complex'\n", "type(1j)"]}, {"block": 34, "type": "markdown", "linesLength": 1, "startIndex": 61, "lines": ["### Cha\u00eenes de caract\u00e8res"]}, {"block": 35, "type": "markdown", "linesLength": 1, "startIndex": 62, "lines": ["On a \u00e9galement rapidement besoin de cha\u00eenes de caract\u00e8res, on les \u00e9tudiera bient\u00f4t en d\u00e9tails, mais en guise d'avant-go\u00fbt:"]}, {"block": 36, "type": "code", "linesLength": 2, "startIndex": 63, "lines": ["chaine = \"Bonjour le monde \"\n", "print(3 * chaine)"]}, {"block": 37, "type": "markdown", "linesLength": 1, "startIndex": 65, "lines": ["### Conversions"]}, {"block": 38, "type": "markdown", "linesLength": 2, "startIndex": 66, "lines": ["Il est parfois n\u00e9cessaire de convertir une donn\u00e9e d'un type dans un autre.\n", "Par exemple on peut demander \u00e0 l'utilisateur d'entrer un valeur au clavier gr\u00e2ce \u00e0 la fonction `input`, comme ceci:"]}, {"block": 39, "type": "code", "linesLength": 1, "startIndex": 68, "lines": ["reponse = input(\"quel est votre \u00e2ge ? \")"]}, {"block": 40, "type": "code", "linesLength": 2, "startIndex": 69, "lines": ["# vous avez entr\u00e9 la cha\u00eene suivante\n", "print(reponse)"]}, {"block": 41, "type": "code", "linesLength": 2, "startIndex": 71, "lines": ["# ici reponse est une variable, et son contenu est de type chaine de caract\u00e8res\n", "type(reponse)"]}, {"block": 42, "type": "markdown", "linesLength": 1, "startIndex": 73, "lines": ["Maintenant je veux faire des calculs sur votre \u00e2ge, par exemple le multiplier par 2; si je m'y prends na\u00efvement, \u00e7a donne ceci:"]}, {"block": 43, "type": "code", "linesLength": 2, "startIndex": 74, "lines": ["# multiplier une chaine de caract\u00e8res par deux ne fait pas ce qu'on veut\n", "2 * reponse"]}, {"block": 44, "type": "markdown", "linesLength": 1, "startIndex": 76, "lines": ["C'est pourquoi il me faut ici d'abord **convertir** la (valeur de la) variable `reponse` en un entier, que je peux ensuite doubler (assurez-vous d'avoir bien entr\u00e9 ci-dessus une valeur qui correspond \u00e0 un nombre entier):"]}, {"block": 45, "type": "code", "linesLength": 4, "startIndex": 77, "lines": ["# reponse est une chaine\n", "# je la convertis en entier en appelant la fonction int()\n", "age = int(reponse)\n", "type(age)"]}, {"block": 46, "type": "code", "linesLength": 2, "startIndex": 81, "lines": ["# que je peux maintenant multiplier par 2\n", "2 * age"]}, {"block": 47, "type": "markdown", "linesLength": 1, "startIndex": 83, "lines": ["Ou si on pr\u00e9f\u00e8re, en une seule fois:"]}, {"block": 48, "type": "code", "linesLength": 1, "startIndex": 84, "lines": ["print(\"le double de votre age est\", 2*int(reponse))"]}, {"block": 49, "type": "markdown", "linesLength": 1, "startIndex": 85, "lines": ["### Conversions - suite"]}, {"block": 50, "type": "markdown", "linesLength": 12, "startIndex": 86, "lines": ["De mani\u00e8re plus g\u00e9n\u00e9rale, pour convertir un objet en un entier, un flottant, ou un string, on peut simplement appeler une fonction built-in qui porte le m\u00eame nom que le type cible:\n", "\n", "| Type | Fonction|\n", "|------|---------|\n", "| Entier | `int` |\n", "| Flottant | `float` |\n", "| Complexe | `complex` |\n", "| Cha\u00eene | `str` |\n", "\n", "Ainsi dans l'exemple pr\u00e9c\u00e9dent, `int(reponse)` repr\u00e9sente la conversion de `reponse` en entier.\n", "\n", "On a illustr\u00e9 cette m\u00eame technique dans les exemples suivants:"]}, {"block": 51, "type": "code", "linesLength": 2, "startIndex": 98, "lines": ["# dans l'autre sens, si j'ai un entier \n", "a = 2345"]}, {"block": 52, "type": "code", "linesLength": 2, "startIndex": 100, "lines": ["# je peux facilement le traduire en chaine de caract\u00e8res\n", "str(2345)"]}, {"block": 53, "type": "code", "linesLength": 2, "startIndex": 102, "lines": ["# ou en complexe\n", "complex(2345)"]}, {"block": 54, "type": "markdown", "linesLength": 1, "startIndex": 104, "lines": ["Nous verrons plus tard que ceci se g\u00e9n\u00e9ralise \u00e0 tous les types de python: pour convertir un object `x` en un type `bidule`, on appelle `bidule(x)`. On y reviendra, bien entendu. "]}, {"block": 55, "type": "markdown", "linesLength": 1, "startIndex": 105, "lines": ["### Entiers et bases"]}, {"block": 56, "type": "markdown", "linesLength": 3, "startIndex": 106, "lines": ["Les calculettes scientifiques permettent habituellement d'entrer les entiers dans d'autres bases que la base 10. \n", "\n", "En python, on peut aussi entrer un entier sous forme binaire comme ceci"]}, {"block": 57, "type": "code", "linesLength": 1, "startIndex": 109, "lines": ["deux_cents = 0b11001000 ; print(deux_cents)"]}, {"block": 58, "type": "markdown", "linesLength": 1, "startIndex": 110, "lines": ["Ou encore sous forme octale (en base 8) comme ceci"]}, {"block": 59, "type": "code", "linesLength": 1, "startIndex": 111, "lines": ["deux_cents = 0o310 ; print(deux_cents)"]}, {"block": 60, "type": "markdown", "linesLength": 1, "startIndex": 112, "lines": ["Ou enfin encore en hexadecimal (base 16) comme ceci"]}, {"block": 61, "type": "code", "linesLength": 1, "startIndex": 113, "lines": ["deux_cents = 0xc8 ; print(deux_cents)"]}, {"block": 62, "type": "markdown", "linesLength": 1, "startIndex": 114, "lines": ["Pour d'autres bases, on peut utiliser la fonction de conversion `int` en lui passant un argument suppl\u00e9mentaire:"]}, {"block": 63, "type": "code", "linesLength": 1, "startIndex": 115, "lines": ["deux_cents = int('3020', 4) ; print(deux_cents)"]}, {"block": 64, "type": "markdown", "linesLength": 1, "startIndex": 116, "lines": ["### Fonctions math\u00e9matiques"]}, {"block": 65, "type": "markdown", "linesLength": 1, "startIndex": 117, "lines": ["python fournit naturellement un ensemble tr\u00e8s complet d'op\u00e9rateurs math\u00e9matiques pour les fonctions exponentielles, trigonom\u00e9triques et autres, mais leur utilisation ne nous est pas encore accessible \u00e0 ce stade et nous les verrons ult\u00e9rieurement."]}]