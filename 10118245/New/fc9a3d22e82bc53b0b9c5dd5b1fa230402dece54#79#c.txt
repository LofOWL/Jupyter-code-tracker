[{"block": 0, "type": "markdown", "linesLength": 1, "startIndex": 0, "lines": ["<span style=\"float:left;\">Licence CC BY-NC-ND</span><span style=\"float:right;\">Thierry Parmentelat &amp; Arnaud Legout,<img src=\"media/inria-25.png\" style=\"display:inline\"></span>"]}, {"block": 1, "type": "heading", "linesLength": 1, "startIndex": 1, "lines": ["Fichiers et utilitaires"]}, {"block": 2, "type": "heading", "linesLength": 1, "startIndex": 2, "lines": ["Compl\u00e9ment - niveau basique"]}, {"block": 3, "type": "markdown", "linesLength": 1, "startIndex": 3, "lines": ["Nous pr\u00e9sentons dans ce compl\u00e9ment quelques utilitaires autour des fichiers. Il ne s'agit pas d'outils li\u00e9s au type `file` \u00e0 proprement parler, mais qui sont utiles malgr\u00e9 tout dans le contexte de la manipulation de fichiers."]}, {"block": 4, "type": "heading", "linesLength": 1, "startIndex": 4, "lines": ["Le module `os.path`"]}, {"block": 5, "type": "markdown", "linesLength": 1, "startIndex": 5, "lines": ["Ce module propose un certain nombre d'utilitaires \u00e0 large spectre sur les fichiers, et entre autres les choses suivantes."]}, {"block": 6, "type": "heading", "linesLength": 1, "startIndex": 6, "lines": ["Manipulations de noms de fichier"]}, {"block": 7, "type": "markdown", "linesLength": 6, "startIndex": 7, "lines": ["Pour commencer, nous vous recommandons d'utiliser le module `os.path` pour manipuler les noms de fichier, surtout si vous \u00e9crivez du code multi-plateforme. Voyez en particulier dans cette cat\u00e9gorie\n", "\n", " * `os.path.join` ajoute '/' ou '\\' entre deux morceaux de chemin, selon l'OS\n", " * `os.path.basename` trouve le nom de fichier dans un chemin\n", " * `os.path.dirname` trouve le nom du directory dans un chemin\n", " * `os.path.abspath` calcule un chemin absolu, c'est-\u00e0-dire \u00e0 partir de la racine du filesystem "]}, {"block": 8, "type": "heading", "linesLength": 1, "startIndex": 13, "lines": ["Existence de fichier / m\u00e9tadonn\u00e9es"]}, {"block": 9, "type": "markdown", "linesLength": 1, "startIndex": 14, "lines": ["Les fonctions suivantes retournent des informations obtenues aupr\u00e8s de l'OS dans les m\u00e9tadonn\u00e9es associ\u00e9es aux fichiers (concr\u00e8tement, sans ouvrir le fichier)."]}, {"block": 10, "type": "markdown", "linesLength": 4, "startIndex": 15, "lines": [" * `os.path.exists` pour savoir si un chemin existe ou pas (fichier ou r\u00e9pertoire)\n", " * `os.path.isfile` (et `isdir`) pour savoir si un chemin est un fichier  (et un r\u00e9pertoire)\n", " * `os.path.getsize` pour obtenir la taille du fichier \n", " * `os.path.getatime` et aussi `getmtime` et `getctime`  pour obtenir les dates de cr\u00e9ation/modification d'un fichier"]}, {"block": 11, "type": "heading", "linesLength": 1, "startIndex": 19, "lines": ["Et autres"]}, {"block": 12, "type": "markdown", "linesLength": 1, "startIndex": 20, "lines": ["Reportez-vous \u00e0 la [documentation compl\u00e8te de `os.path`](https://docs.python.org/2/library/os.path.html) pour plus de d\u00e9tails sur ce module."]}, {"block": 13, "type": "heading", "linesLength": 1, "startIndex": 21, "lines": ["Le module `os`"]}, {"block": 14, "type": "markdown", "linesLength": 5, "startIndex": 22, "lines": ["Signalons aussi, mais cette fois du module `os`, les fonctions\n", " * `os.remove` (ou son ancien nom `os.unlink`), qui permet de supprimer un fichier\n", " * `os.rmdir` pour supprimer un r\u00e9pertoire (mais qui doit \u00eatre vide)\n", " * `os.removedirs` pour supprimer tout un r\u00e9pertoire avec son contenu, r\u00e9cursivement si n\u00e9cessaire\n", " * `os.rename` pour renommer un fichier"]}, {"block": 15, "type": "heading", "linesLength": 1, "startIndex": 27, "lines": ["Et autres"]}, {"block": 16, "type": "markdown", "linesLength": 1, "startIndex": 28, "lines": ["Le module `os` comporte un grand nombre d'autres fonctionnalit\u00e9s que celles relatives aux fichiers, vous pouvez consulter la [documentation compl\u00e8te de `os`](https://docs.python.org/2/library/os.html) pour une liste exhaustive."]}, {"block": 17, "type": "heading", "linesLength": 1, "startIndex": 29, "lines": ["Un petit exemple"]}, {"block": 18, "type": "markdown", "linesLength": 1, "startIndex": 30, "lines": ["Voici un exemple simple qui utilise les deux modules `os` et `os.path` pour s'assurer qu'un fichier n'existe pas, le cr\u00e9er, acc\u00e9der sa taille et sa date de modification, puis l'effacer \u00e0 nouveau."]}, {"block": 19, "type": "heading", "linesLength": 1, "startIndex": 31, "lines": ["Le module `glob` - recherche de fichiers"]}, {"block": 20, "type": "markdown", "linesLength": 3, "startIndex": 32, "lines": ["On a parfois le besoin de chercher, par exemple, \"tous les fichiers se terminant par `.txt`\".\n", "\n", "Le module `glob` fournit des fonctions pour ce genre de besoins, comme illustr\u00e9 ici"]}, {"block": 21, "type": "markdown", "linesLength": 1, "startIndex": 35, "lines": ["Comme toujours, voyez [la documentation compl\u00e8te de `glob`](https://docs.python.org/2/library/glob.html) pour plus de pr\u00e9cisions."]}]