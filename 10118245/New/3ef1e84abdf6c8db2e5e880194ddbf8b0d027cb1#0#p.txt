[{"block": 0, "type": "markdown", "linesLength": 1, "startIndex": 0, "lines": ["<span style=\"float:left;\">Licence CC BY-NC-ND</span><span style=\"float:right;\">Thierry Parmentelat &amp; Arnaud Legout&nbsp;<img src=\"media/both-logos-small-alpha.png\" style=\"display:inline\"></span><br/>"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 1, "lines": ["# \u00e9cosyst\u00e8me data science"]}, {"block": 2, "type": "markdown", "linesLength": 1, "startIndex": 2, "lines": ["### un rapide survol"]}, {"block": 3, "type": "markdown", "linesLength": 1, "startIndex": 3, "lines": ["# `numpy`"]}, {"block": 4, "type": "code", "linesLength": 1, "startIndex": 4, "lines": ["import numpy"]}, {"block": 5, "type": "markdown", "linesLength": 1, "startIndex": 5, "lines": ["# tableaux"]}, {"block": 6, "type": "code", "linesLength": 6, "startIndex": 6, "lines": ["# une liste de listes\n", "mat1 = [\n", "  [11, 12, 13],\n", "  [21, 22, 23],\n", "]\n", "mat1"]}, {"block": 7, "type": "code", "linesLength": 6, "startIndex": 12, "lines": ["# un dictionnaire index\u00e9 par des tuples\n", "mat2 = { (i,j) : i+10*j\n", "           for i in range(1, 3)\n", "           for j in range(1, 4)}\n", "\n", "mat2"]}, {"block": 8, "type": "code", "linesLength": 1, "startIndex": 18, "lines": ["mat1[2-1][3-1]"]}, {"block": 9, "type": "code", "linesLength": 1, "startIndex": 19, "lines": ["mat2[ 2, 3 ]"]}, {"block": 10, "type": "markdown", "linesLength": 1, "startIndex": 20, "lines": ["# langage compil\u00e9"]}, {"block": 11, "type": "markdown", "linesLength": 1, "startIndex": 21, "lines": ["### tableau homog\u00e8ne : toutes les cellules sont de m\u00eame type"]}, {"block": 12, "type": "markdown", "linesLength": 1, "startIndex": 22, "lines": ["### dimensions connues"]}, {"block": 13, "type": "markdown", "linesLength": 1, "startIndex": 23, "lines": ["# acc\u00e8s direct"]}, {"block": 14, "type": "markdown", "linesLength": 1, "startIndex": 24, "lines": ["[animation](w7-directaccess/index.html)"]}, {"block": 15, "type": "markdown", "linesLength": 1, "startIndex": 25, "lines": ["# python "]}, {"block": 16, "type": "markdown", "linesLength": 1, "startIndex": 26, "lines": ["# *vs* `numpy`"]}, {"block": 17, "type": "markdown", "linesLength": 3, "startIndex": 27, "lines": ["##### container (`list` / `dict` / `set`)\n", "* h\u00e9t\u00e9rog\u00e8ne par construction\n", "* de taille variable"]}, {"block": 18, "type": "markdown", "linesLength": 3, "startIndex": 30, "lines": ["##### `ndarray`\n", "* homog\u00e8ne\n", "* de taille fixe"]}, {"block": 19, "type": "markdown", "linesLength": 1, "startIndex": 33, "lines": ["# benchmark 1 - liste"]}, {"block": 20, "type": "code", "linesLength": 6, "startIndex": 34, "lines": ["size = 10**4\n", "\n", "import math\n", "\n", "# l comme liste\n", "l = [float(i) for i in range(size)]"]}, {"block": 21, "type": "code", "linesLength": 6, "startIndex": 40, "lines": ["import numpy as np\n", "\n", "# n comme numpy\n", "n = np.array(l)\n", "\n", "type(n)"]}, {"block": 22, "type": "code", "linesLength": 2, "startIndex": 46, "lines": ["%%timeit -n 50\n", "[math.cos(x) for x in l]"]}, {"block": 23, "type": "code", "linesLength": 2, "startIndex": 48, "lines": ["%%timeit -n 50\n", "np.cos(n)"]}, {"block": 24, "type": "markdown", "linesLength": 1, "startIndex": 50, "lines": ["# benchmark 2 - dict / tuple"]}, {"block": 25, "type": "code", "linesLength": 6, "startIndex": 51, "lines": ["size = 100\n", "# d comme dict\n", "d = { (i, j) : float(size*i + j)\n", "     for j in range(size)\n", "     for i in range(size)}\n", "d[2, 4]"]}, {"block": 26, "type": "code", "linesLength": 6, "startIndex": 57, "lines": ["# temporaire pour cr\u00e9er le array\n", "l = [ [float(size*i+j) \n", "       for j in range(size)]\n", "      for i in range(size)]\n", "n = np.array(l)\n", "n[2, 4]"]}, {"block": 27, "type": "code", "linesLength": 3, "startIndex": 63, "lines": ["%%timeit -n 50\n", "{ tuple : math.cos(value) \n", "  for tuple, value in d.items()}"]}, {"block": 28, "type": "code", "linesLength": 2, "startIndex": 66, "lines": ["%%timeit -n 50\n", "np.cos(n)"]}, {"block": 29, "type": "markdown", "linesLength": 1, "startIndex": 68, "lines": ["# tableau = vue"]}, {"block": 30, "type": "code", "linesLength": 2, "startIndex": 69, "lines": ["a = np.array( [ [0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]]\n", "    , dtype=float)"]}, {"block": 31, "type": "code", "linesLength": 1, "startIndex": 71, "lines": ["a"]}, {"block": 32, "type": "code", "linesLength": 3, "startIndex": 72, "lines": ["# la forme du tableau, c'est \n", "# le point de vue de a sur son buffer\n", "a.shape"]}, {"block": 33, "type": "code", "linesLength": 2, "startIndex": 75, "lines": ["b = a.reshape( (6, 2))\n", "b"]}, {"block": 34, "type": "code", "linesLength": 1, "startIndex": 77, "lines": ["a[1, 2] = 600."]}, {"block": 35, "type": "code", "linesLength": 1, "startIndex": 78, "lines": [" b"]}, {"block": 36, "type": "markdown", "linesLength": 1, "startIndex": 79, "lines": ["# tableau = vue ..."]}, {"block": 37, "type": "markdown", "linesLength": 1, "startIndex": 80, "lines": ["[animation](w7-view/index.html)"]}, {"block": 38, "type": "markdown", "linesLength": 1, "startIndex": 81, "lines": ["# conclusion"]}, {"block": 39, "type": "markdown", "linesLength": 1, "startIndex": 82, "lines": ["### motivations"]}, {"block": 40, "type": "markdown", "linesLength": 3, "startIndex": 83, "lines": ["* meilleures performances\n", "* meilleure gestion de la m\u00e9moire\n", "* au prix de l\u00e9g\u00e8res limitations sans cons\u00e9quence"]}, {"block": 41, "type": "markdown", "linesLength": 1, "startIndex": 86, "lines": ["### r\u00e9f\u00e9rences partag\u00e9es"]}, {"block": 42, "type": "markdown", "linesLength": 2, "startIndex": 87, "lines": ["* un tableau est une vue sur des donn\u00e9es\n", "* la g\u00e9om\u00e9trie fait partie de la vue et pas des donn\u00e9es"]}]