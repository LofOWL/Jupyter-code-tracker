[{"block": 0, "type": "markdown", "linesLength": 5, "startIndex": 0, "lines": ["<style>div.title-slide {    width: 100%;    display: flex;    flex-direction: row;            /* default value; can be omitted */    flex-wrap: nowrap;              /* default value; can be omitted */    justify-content: space-between;}</style><div class=\"title-slide\">\n", "<span style=\"float:left;\">Licence CC BY-NC-ND</span>\n", "<span>Thierry Parmentelat &amp; Arnaud Legout</span>\n", "<span><img src=\"media/both-logos-small-alpha.png\" style=\"display:inline\" /></span>\n", "</div>"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 5, "lines": ["# Le module `builtins`"]}, {"block": 2, "type": "markdown", "linesLength": 1, "startIndex": 6, "lines": ["## Compl\u00e9ment - niveau avanc\u00e9"]}, {"block": 3, "type": "markdown", "linesLength": 1, "startIndex": 7, "lines": ["### Ces noms qui viennent de nulle part"]}, {"block": 4, "type": "markdown", "linesLength": 1, "startIndex": 8, "lines": ["Nous avons vu d\u00e9j\u00e0 un certain nombre de **fonctions *built-in*** comme par exemple"]}, {"block": 5, "type": "code", "linesLength": 1, "startIndex": 9, "lines": ["open, len, zip"]}, {"block": 6, "type": "markdown", "linesLength": 5, "startIndex": 10, "lines": ["Ces noms font partie du **module `buitins`**. Il est cependant particulier puisque tout se passe **comme si** on avait fait avant toute chose\u00a0:\n", "\n", "    from builtins import *\n", "    \n", "sauf que cet import est implicite."]}, {"block": 7, "type": "markdown", "linesLength": 1, "startIndex": 15, "lines": ["### On peut r\u00e9affecter un nom *built-in*"]}, {"block": 8, "type": "markdown", "linesLength": 1, "startIndex": 16, "lines": ["Quoique ce soit une pratique d\u00e9conseill\u00e9e, il est tout \u00e0 fait possible de red\u00e9finir ces noms\u00a0; on peut faire par exemple"]}, {"block": 9, "type": "code", "linesLength": 4, "startIndex": 17, "lines": ["# on r\u00e9affecte le nom open \u00e0 un nouvel objet fonction\n", "def open(encoding='utf-8', *args):\n", "    print(\"ma fonction open\")\n", "    pass"]}, {"block": 10, "type": "markdown", "linesLength": 1, "startIndex": 21, "lines": ["qui est naturellement **tr\u00e8s vivement d\u00e9conseill\u00e9**. Notez, cependant, que la coloration syntaxique vous montre clairement que le nom que vous utilisez est un builtins (en vert dans un notebook). "]}, {"block": 11, "type": "markdown", "linesLength": 1, "startIndex": 22, "lines": ["### On ne peut pas r\u00e9affecter un mot cl\u00e9"]}, {"block": 12, "type": "markdown", "linesLength": 9, "startIndex": 23, "lines": ["\u00c0 titre de digression, rappelons que les noms pr\u00e9d\u00e9finis dans le module `builtins` sont, \u00e0 cet \u00e9gard aussi, tr\u00e8s diff\u00e9rents des mots-cl\u00e9s comme `if`, `def`, `with` et autres `for` qui eux, ne peuvent pas \u00eatre modifi\u00e9s en aucune mani\u00e8re\u00a0:\n", "\n", "```\n", ">>> lambda = 1\n", "  File \"<stdin>\", line 1\n", "    lambda = 1\n", "           ^\n", "SyntaxError: invalid syntax\n", "```"]}, {"block": 13, "type": "markdown", "linesLength": 1, "startIndex": 32, "lines": ["### Retrouver un objet *built-in*"]}, {"block": 14, "type": "markdown", "linesLength": 3, "startIndex": 33, "lines": ["Il faut \u00e9viter de red\u00e9finir un nom pr\u00e9d\u00e9fini dans le module `builtins`; et il est rare en pratique qu'on le fasse involontairement puisqu'un bon \u00e9diteur de texte vous signalera les fonctions *built-in* avec une coloration syntaxique sp\u00e9cifique. Cependant, on peut vouloir red\u00e9finir un `builtins` pour changer un comportement par d\u00e9faut, puis vouloir revenir au comportement original. \n", "\n", "Sachez que vous pouvez toujours \"retrouver\" alors la fonction `builtins` en l'important explicitement du module `builtins`. Par exemple, pour r\u00e9aliser notre ouverture de fichier, nous pouvons toujours faire\u00a0:"]}, {"block": 15, "type": "code", "linesLength": 2, "startIndex": 36, "lines": ["# nous ne pouvons pas utiliser open puisque\n", "open()"]}, {"block": 16, "type": "code", "linesLength": 6, "startIndex": 38, "lines": ["# pour \u00eatre s\u00fbr d'utiliser la bonne fonction open\n", "\n", "import builtins \n", "\n", "with builtins.open(\"builtins.txt\", \"w\", encoding=\"utf-8\") as f:\n", "    f.write(\"quelque chose\")"]}, {"block": 17, "type": "markdown", "linesLength": 1, "startIndex": 44, "lines": ["Ou encore, de mani\u00e8re \u00e9quivalente\u00a0:"]}, {"block": 18, "type": "code", "linesLength": 4, "startIndex": 45, "lines": ["from builtins import open as builtins_open\n", "\n", "with builtins_open(\"builtins.txt\", \"r\", encoding=\"utf-8\") as f:\n", "    print(f.read())"]}, {"block": 19, "type": "markdown", "linesLength": 1, "startIndex": 49, "lines": ["### Liste des fonctions pr\u00e9d\u00e9finies"]}, {"block": 20, "type": "markdown", "linesLength": 1, "startIndex": 50, "lines": ["Vous pouvez trouver la liste des fonctions pr\u00e9d\u00e9finies avec la fonction `dir` sur le module `builtins` comme ci-dessous (qui vous montre aussi les exceptions pr\u00e9d\u00e9finies, qui commencent par une majuscule), ou dans la documentation sur [les fonctions pr\u00e9d\u00e9finies](https://docs.python.org/3/library/functions.html#built-in-funcs)\u00a0:"]}, {"block": 21, "type": "code", "linesLength": 1, "startIndex": 51, "lines": ["dir(builtins)"]}, {"block": 22, "type": "markdown", "linesLength": 1, "startIndex": 52, "lines": ["Vous remarquez que les exceptions (les symboles qui commencent par des majuscules) repr\u00e9sentent \u00e0 elles-seules une proportion subtantielle de cet espace de noms."]}]