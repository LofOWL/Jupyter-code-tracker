[{"block": 0, "type": "markdown", "linesLength": 5, "startIndex": 0, "lines": ["<style>div.title-slide {    width: 100%;    display: flex;    flex-direction: row;            /* default value; can be omitted */    flex-wrap: nowrap;              /* default value; can be omitted */    justify-content: space-between;}</style><div class=\"title-slide\">\n", "<span style=\"float:left;\">Licence CC BY-NC-ND</span>\n", "<span>Thierry Parmentelat &amp; Arnaud Legout</span>\n", "<span><img src=\"media/both-logos-small-alpha.png\" style=\"display:inline\" /></span>\n", "</div>"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 5, "lines": ["# La clause `import as`"]}, {"block": 2, "type": "markdown", "linesLength": 1, "startIndex": 6, "lines": ["## Compl\u00e9ment - niveau interm\u00e9diaire"]}, {"block": 3, "type": "markdown", "linesLength": 1, "startIndex": 7, "lines": ["### Rappel"]}, {"block": 4, "type": "markdown", "linesLength": 1, "startIndex": 8, "lines": ["Jusqu'ici nous avons vu les formes d'importation suivantes:"]}, {"block": 5, "type": "markdown", "linesLength": 1, "startIndex": 9, "lines": ["##### Importer tout un module"]}, {"block": 6, "type": "markdown", "linesLength": 1, "startIndex": 10, "lines": ["D'abord pour importer tout un module"]}, {"block": 7, "type": "markdown", "linesLength": 1, "startIndex": 11, "lines": ["    import monmodule"]}, {"block": 8, "type": "markdown", "linesLength": 1, "startIndex": 12, "lines": ["qui est pour simplifier \u00e9quivalent \u00e0"]}, {"block": 9, "type": "markdown", "linesLength": 1, "startIndex": 13, "lines": ["    monmodule = __import__('monmodule')"]}, {"block": 10, "type": "markdown", "linesLength": 1, "startIndex": 14, "lines": ["##### Importer un symbole dans un module"]}, {"block": 11, "type": "markdown", "linesLength": 1, "startIndex": 15, "lines": ["Dans la vid\u00e9o nous venons de voir qu'on peut aussi faire:"]}, {"block": 12, "type": "markdown", "linesLength": 1, "startIndex": 16, "lines": ["    from monmodule import monsymbole"]}, {"block": 13, "type": "markdown", "linesLength": 1, "startIndex": 17, "lines": ["qui est grosso-modo \u00e9quivalent \u00e0 "]}, {"block": 14, "type": "markdown", "linesLength": 3, "startIndex": 18, "lines": ["    temporaire = __import__('monmodule')\n", "    monsymbole = temporaire.monsymbole\n", "    del temporaire"]}, {"block": 15, "type": "markdown", "linesLength": 1, "startIndex": 21, "lines": ["Pour m\u00e9moire, le langage permet de faire aussi des `import *`, qui est d'un usage d\u00e9conseill\u00e9 en dehors de l'interpr\u00e9teur interactif, car cela cr\u00e9e \u00e9videmment un risque de collisions non control\u00e9es des espaces de nommage. On va en reparler."]}, {"block": 16, "type": "markdown", "linesLength": 1, "startIndex": 22, "lines": ["### `import`  `as`"]}, {"block": 17, "type": "markdown", "linesLength": 1, "startIndex": 23, "lines": ["##### Tout un module"]}, {"block": 18, "type": "markdown", "linesLength": 5, "startIndex": 24, "lines": ["Dans chacun de ces deux cas, on n'a pas le choix du nom de l'entit\u00e9 import\u00e9e, et cela pose parfois probl\u00e8me.\n", "\n", "Il peut arriver d'\u00e9crire un module sous un nom qui semble bien choisi, mais on se rend compte au bout d'un moment qu'il entre en conflit avec un autre symbole.\n", "\n", "Par exemple, vous \u00e9crirez un module dans un fichier `globals.py` et vous l'importez dans votre code"]}, {"block": 19, "type": "markdown", "linesLength": 1, "startIndex": 29, "lines": ["    import globals"]}, {"block": 20, "type": "markdown", "linesLength": 1, "startIndex": 30, "lines": ["Puis un moment apr\u00e8s pour d\u00e9bugger vous voulez utiliser la fonction *builtin* `globals`. Sauf que, en vertu de la r\u00e8gle LEG, le symbole `globals` se trouve d\u00e9signer votre module, et non la fonction."]}, {"block": 21, "type": "markdown", "linesLength": 1, "startIndex": 31, "lines": ["\u00c0 ce stade \u00e9videmment vous pouvez (devriez) renommer votre module, mais cela peut prendre du temps parce qu'il y a de nombreuses d\u00e9pendances. En attendant vous pouvez tirer profit de la clause `import as` dont la forme g\u00e9n\u00e9rale est"]}, {"block": 22, "type": "markdown", "linesLength": 1, "startIndex": 32, "lines": ["    import monmodule as autremodule"]}, {"block": 23, "type": "markdown", "linesLength": 1, "startIndex": 33, "lines": ["ce qui, toujours \u00e0 la grosse louche, est \u00e9quivalent \u00e0"]}, {"block": 24, "type": "markdown", "linesLength": 1, "startIndex": 34, "lines": ["    autremodule = __import__('monmodule')"]}, {"block": 25, "type": "markdown", "linesLength": 1, "startIndex": 35, "lines": ["##### Un symbole dans un module"]}, {"block": 26, "type": "markdown", "linesLength": 1, "startIndex": 36, "lines": ["On peut aussi importer un symbole sp\u00e9cifique d'un module, sous un autre nom que celui qu'il a dans le module. Ainsi"]}, {"block": 27, "type": "markdown", "linesLength": 1, "startIndex": 37, "lines": ["    from monmodule import monsymbole as autresymbole"]}, {"block": 28, "type": "markdown", "linesLength": 1, "startIndex": 38, "lines": ["qui fait quelque chose comme"]}, {"block": 29, "type": "markdown", "linesLength": 3, "startIndex": 39, "lines": ["    temporaire = __import__('monmodule')\n", "    autresymbole = temporaire.monsymbole\n", "    del temporaire"]}, {"block": 30, "type": "markdown", "linesLength": 1, "startIndex": 42, "lines": ["### Quelques exemples"]}, {"block": 31, "type": "markdown", "linesLength": 6, "startIndex": 43, "lines": ["Vous vous souvenez que nous avons dans notre environnement les modules \n", " * `un_deux`\n", " * `un_deux_trois`\n", " * `un_deux_trois_quatre`\n", " \n", "qui d\u00e9finissent les symboles `un`, `deux`, `trois` et `quatre`"]}, {"block": 32, "type": "code", "linesLength": 2, "startIndex": 49, "lines": ["import un_deux as one_two\n", "one_two.un()"]}, {"block": 33, "type": "code", "linesLength": 2, "startIndex": 51, "lines": ["from un_deux_trois import un as one\n", "one()"]}, {"block": 34, "type": "code", "linesLength": 1, "startIndex": 53, "lines": ["from un_deux_trois_quatre import un as one, deux, trois as three"]}, {"block": 35, "type": "code", "linesLength": 3, "startIndex": 54, "lines": ["one()\n", "deux()\n", "three()"]}, {"block": 36, "type": "markdown", "linesLength": 1, "startIndex": 57, "lines": ["### Pour en savoir plus"]}, {"block": 37, "type": "markdown", "linesLength": 1, "startIndex": 58, "lines": ["Vous pouvez vous reporter \u00e0 [la section sur l'instruction `import`](https://docs.python.org/3/reference/simple_stmts.html#the-import-statement) dans la documentation python."]}]