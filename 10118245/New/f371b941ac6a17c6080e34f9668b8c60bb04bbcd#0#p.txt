[{"block": 0, "type": "markdown", "linesLength": 5, "startIndex": 0, "lines": ["<style>div.title-slide {    width: 100%;    display: flex;    flex-direction: row;            /* default value; can be omitted */    flex-wrap: nowrap;              /* default value; can be omitted */    justify-content: space-between;}</style><div class=\"title-slide\">\n", "<span style=\"float:left;\">Licence CC BY-NC-ND</span>\n", "<span>Thierry Parmentelat &amp; Arnaud Legout</span>\n", "<span><img src=\"media/both-logos-small-alpha.png\" style=\"display:inline\" /></span>\n", "</div>"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 5, "lines": ["# Installer la distribution standard Python"]}, {"block": 2, "type": "markdown", "linesLength": 1, "startIndex": 6, "lines": ["## Compl\u00e9ment - niveau basique"]}, {"block": 3, "type": "markdown", "linesLength": 5, "startIndex": 7, "lines": ["Ce compl\u00e9ment a pour but de vous donner quelques guides pour l'installation de la distribution standard Python 3.\n", "\n", "Notez bien qu'il ne s'agit ici que d'indications, il existe de nombreuses fa\u00e7ons de proc\u00e9der.\n", "\n", "En cas de souci, commencez par chercher par vous-m\u00eame, sur Google ou autre, une solution \u00e0 votre probl\u00e8me\u00a0; pensez \u00e9galement \u00e0 utiliser le forum du cours."]}, {"block": 4, "type": "markdown", "linesLength": 1, "startIndex": 12, "lines": ["Le point important est de **bien v\u00e9rifier le num\u00e9ro de version** de votre installation qui doit \u00eatre **au moins 3.6**"]}, {"block": 5, "type": "markdown", "linesLength": 1, "startIndex": 13, "lines": ["## Sachez \u00e0 qui vous parlez "]}, {"block": 6, "type": "markdown", "linesLength": 9, "startIndex": 14, "lines": ["Mais avant qu'on n'avance sur l'installation proprement dite, il nous faut insister sur un point qui d\u00e9route parfois les d\u00e9butants. On a parfois besoin de recourir \u00e0 l'emploi d'un terminal, surtout justement pendant la phase d'installation. \n", "\n", "Lorsque c'est le cas, il est important de bien distinguer\u00a0:\n", "\n", "* les cas o\u00f9 on s'adresse **au terminal** (en jargon, on dit le *shell*), \n", "* et les cas o\u00f9 on s'adresse \u00e0 **l'interpr\u00e9teur Python**.\n", "\n", "C'est tr\u00e8s important car ces deux programmes ne parlent **pas** du tout le **m\u00eame langage** ! \n", "Il peut arriver au d\u00e9but qu'on \u00e9crive une commande juste, mais au mauvais interlocuteur, et cela peut \u00eatre source de frustration. Essayons de bien comprendre ce point."]}, {"block": 7, "type": "markdown", "linesLength": 11, "startIndex": 23, "lines": ["### Le terminal\n", "\n", "Je peux dire que je parle \u00e0 mon **terminal** quand l'invite de commande (en jargon on dit le *prompt*) **se termine par un dollar `$`** - ou un simple chevron `>` sur Windows \n", "\n", "Par exemple\u00a0sur un mac :\n", "\n", "    ~/git/flotpython/w1 $ \n", "    \n", "Ou sur Windows\u00a0:\n", "\n", "    C:\\Users>        "]}, {"block": 8, "type": "markdown", "linesLength": 11, "startIndex": 34, "lines": ["### L'interpr\u00e8te Python\n", "\n", "\u00c0 partir du terminal, je peux lancer un **interpr\u00e9teur Python**, qui se reconna\u00eet car son prompt est fait de **3 chevrons `>>> `**\n", "\n", "```\n", "~/git/flotpython/w1 $ python3\n", "Python 3.7.0 (default, Jun 29 2018, 20:14:27)\n", "[Clang 9.0.0 (clang-900.0.39.2)] on darwin\n", "Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n", ">>>\n", "```"]}, {"block": 9, "type": "markdown", "linesLength": 9, "startIndex": 45, "lines": ["Pour sortir de l'interpr\u00e9teur Python, et retourner au terminal, j'utilise la fonction Python `exit()`\u00a0:\n", "\n", "```\n", "~/git/flotpython/w1 $ python3\n", ">>> 20 * 60\n", "1200\n", ">>> exit()\n", "~/git/flotpython/w1 $ python3\n", "```    "]}, {"block": 10, "type": "markdown", "linesLength": 15, "startIndex": 54, "lines": ["### Les erreurs typiques\n", "\n", "Gardez bien cette distinction pr\u00e9sente \u00e0 l'esprit, lorsque vous lisez la suite. \n", "Voici quelques sympt\u00f4mes habituels de ce qu'on obtient si on se trompe.\n", "\n", "Par exemple, la commande `python3 -V` est une commande qui s'adresse au terminal\u00a0; c'est pourquoi nous la faisons pr\u00e9c\u00e9der d'un dollar `$ `.\n", "\n", "Si vous essayez de la taper alors que vous \u00eates d\u00e9j\u00e0 dans un interpr\u00e9teur python - ou sous IDLE d'ailleurs -, vous obtenez un message d'erreur de ce genre :\n", "\n", "```\n", ">>> python3 -V\n", "Traceback (most recent call last):\n", "  File \"<stdin>\", line 1, in <module>\n", "NameError: name 'python3' is not defined\n", "```"]}, {"block": 11, "type": "markdown", "linesLength": 10, "startIndex": 69, "lines": ["R\u00e9ciproquement, si vous essayez de taper du Python directement dans un terminal, \u00e7a se passe mal aussi, forc\u00e9ment. Par exemple sur Mac, avec des fragments Python tout simples\u00a0:\n", "\n", "```\n", "~/git/flotpython/w1 $ import math\n", "-bash: import: command not found\n", "~/git/flotpython/w1 $ 30 * 60\n", "-bash: 30: command not found\n", "~/git/flotpython/w1 $ foo = 30 * 60\n", "-bash: foo: command not found\n", "```"]}, {"block": 12, "type": "markdown", "linesLength": 1, "startIndex": 79, "lines": ["## Digression - coexistence de Python2 et Python3"]}, {"block": 13, "type": "markdown", "linesLength": 29, "startIndex": 80, "lines": ["Avant l'arriv\u00e9e de la version 3 de Python, les choses \u00e9taient simples, on ex\u00e9cutait un programme Python avec une seule commande `python`. Depuis 2014-2015, maintenant que les deux versions de Python coexistent, il est n\u00e9cessaire d'adopter une convention qui permette d'installer les deux langages sous des noms qui sont non-ambigus.\n", "\n", "C'est pourquoi actuellement, on trouve **le plus souvent** la convention suivante sous Linux et macOS\u00a0:\n", "\n", "* `python3` est pour ex\u00e9cuter les programmes en Python-3\u00a0; du coup on trouve alors \u00e9galement les commandes comme `idle3` pour lancer IDLE, et par exemple `pip3` pour le gestionnaire de paquets (voir ci-dessous)\u00a0;\n", "\n", "* `python2` est pour ex\u00e9cuter les programmes en Python-2, avec typiquement `idle2` et `pip2`\u00a0;\n", "\n", "* enfin selon les syst\u00e8mes, la commande `python` tout court est un alias pour `python2` ou `python3`. De plus en plus souvent, par d\u00e9faut `python` d\u00e9signe `python3`.\n", "\n", "\u00e0 titre d'illustration, voici ce que j'obtiens sur mon mac\u00a0:\n", "\n", "```\n", "$ python3 -V\n", "Python 3.6.2\n", "$ python2 -V\n", "Python 2.7.13\n", "$ python -V\n", "Python 3.6.2\n", "```\n", "\n", "Sous Windows, vous avez un lanceur qui s'appelle `py`. Par d\u00e9faut, il lance la version de Python la plus r\u00e9cente install\u00e9e, mais vous pouvez sp\u00e9cifier une version sp\u00e9cifique de la mani\u00e8re suivante&nbsp;:\n", "```\n", "C:\\> py -2.7\n", "```\n", "\n", "pour lancer, par exemple, Python en version 2.7. Vous trouverez toute la documentation n\u00e9cessaire pour Windows sur cette page (en anglais)&nbsp;: https://docs.python.org/3/using/windows.html\n", "\n", "Pour \u00e9viter d'\u00e9ventuelles confusions, nous pr\u00e9cisons toujours `python3` dans le cours."]}, {"block": 14, "type": "markdown", "linesLength": 1, "startIndex": 109, "lines": ["## Installation de base"]}, {"block": 15, "type": "markdown", "linesLength": 1, "startIndex": 110, "lines": ["### Vous utilisez Windows"]}, {"block": 16, "type": "markdown", "linesLength": 4, "startIndex": 111, "lines": ["La m\u00e9thode recommand\u00e9e sur Windows est de partir de la page  https://www.python.org/download\n", "o\u00f9 vous trouverez un programme d'installation qui contient tout ce dont vous aurez besoin pour suivre le cours.\n", "\n", "Pour v\u00e9rifier que vous \u00eates pr\u00eat, il vous faut lancer IDLE (quelque part dans le menu D\u00e9marrer) et v\u00e9rifier le num\u00e9ro de version."]}, {"block": 17, "type": "markdown", "linesLength": 1, "startIndex": 115, "lines": ["### Vous utilisez macOS"]}, {"block": 18, "type": "markdown", "linesLength": 4, "startIndex": 116, "lines": ["Ici encore, la m\u00e9thode recommand\u00e9e est de partir de la page https://www.python.org/download\n", "et d'utiliser le programme d'installation.\n", "\n", "Sachez aussi, si vous utilisez d\u00e9j\u00e0 MacPorts (https://www.macports.org), que vous pouvez \u00e9galement utiliser cet outil pour installer, par exemple Python 3.6, avec la commande"]}, {"block": 19, "type": "markdown", "linesLength": 1, "startIndex": 120, "lines": ["    $ sudo port install python36"]}, {"block": 20, "type": "markdown", "linesLength": 1, "startIndex": 121, "lines": ["### Vous utilisez Linux"]}, {"block": 21, "type": "markdown", "linesLength": 1, "startIndex": 122, "lines": ["Dans ce cas il est tr\u00e8s probable que Python-3.x soit d\u00e9j\u00e0 disponible sur votre machine. Pour vous en assurer, essayez de lancer la commande `python3` dans un terminal."]}, {"block": 22, "type": "markdown", "linesLength": 1, "startIndex": 123, "lines": ["##### RHEL / Fedora"]}, {"block": 23, "type": "markdown", "linesLength": 1, "startIndex": 124, "lines": ["Voici par exemple ce qu'on obtient depuis un terminal sur une machine install\u00e9e en Fedora-20\u00a0:"]}, {"block": 24, "type": "markdown", "linesLength": 5, "startIndex": 125, "lines": ["    $ python3\n", "    Python 3.6.2 (default, Jul 20 2017, 12:30:02)\n", "    [GCC 6.3.1 20161221 (Red Hat 6.3.1-1)] on linux\n", "    Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n", "    >>> exit()\n"]}, {"block": 25, "type": "markdown", "linesLength": 1, "startIndex": 130, "lines": ["**V\u00e9rifiez bien le num\u00e9ro de version** qui doit \u00eatre en 3.*x*. Si vous obtenez un message du style `python3: command not found` utilisez `dnf` (anciennement connu sous le nom de `yum`) pour installer le rpm `python3` comme ceci\u00a0:"]}, {"block": 26, "type": "markdown", "linesLength": 1, "startIndex": 131, "lines": ["    $ sudo dnf install python3"]}, {"block": 27, "type": "markdown", "linesLength": 1, "startIndex": 132, "lines": ["S'agissant d'`idle`, l'\u00e9diteur que nous utilisons dans le cours (optionnel si vous \u00eates familier avec un \u00e9diteur de texte), v\u00e9rifiez sa pr\u00e9sence comme ceci\u00a0:"]}, {"block": 28, "type": "markdown", "linesLength": 2, "startIndex": 133, "lines": ["    $ type idle3\n", "    idle is hashed (/usr/bin/idle3)"]}, {"block": 29, "type": "markdown", "linesLength": 1, "startIndex": 135, "lines": ["Ici encore, si la commande n'est pas disponible vous pouvez l'installer avec\u00a0:"]}, {"block": 30, "type": "markdown", "linesLength": 1, "startIndex": 136, "lines": ["    $ sudo yum install python3-tools"]}, {"block": 31, "type": "markdown", "linesLength": 1, "startIndex": 137, "lines": ["##### Debian / Ubuntu"]}, {"block": 32, "type": "markdown", "linesLength": 1, "startIndex": 138, "lines": ["Ici encore, Python-2.7 est sans doute d\u00e9j\u00e0 disponible. Proc\u00e9dez comme ci-dessus, voici un exemple recueilli dans un terminal sur une machine install\u00e9e en Ubuntu-14.04/trusty\u00a0:"]}, {"block": 33, "type": "markdown", "linesLength": 5, "startIndex": 139, "lines": ["    $ python3\n", "    Python 3.6.2 (default, Jul 20 2017, 12:30:02)\n", "    [GCC 6.3.1 20161221 (Red Hat 6.3.1-1)] on linux\n", "    Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n", "    >>> exit()"]}, {"block": 34, "type": "markdown", "linesLength": 1, "startIndex": 144, "lines": ["Pour installer Python\u00a0:"]}, {"block": 35, "type": "markdown", "linesLength": 1, "startIndex": 145, "lines": ["    $ sudo apt-get install python3"]}, {"block": 36, "type": "markdown", "linesLength": 1, "startIndex": 146, "lines": ["Pour installer idle\u00a0:"]}, {"block": 37, "type": "markdown", "linesLength": 1, "startIndex": 147, "lines": ["    $ sudo apt-get install idle3"]}, {"block": 38, "type": "markdown", "linesLength": 1, "startIndex": 148, "lines": ["### Installation de biblioth\u00e8ques compl\u00e9mentaires"]}, {"block": 39, "type": "markdown", "linesLength": 1, "startIndex": 149, "lines": ["Il existe un outil tr\u00e8s pratique pour installer des biblioth\u00e8ques Python, il s'appelle `pip3`, qui est document\u00e9 ici https://pypi.python.org/pypi/pip"]}, {"block": 40, "type": "markdown", "linesLength": 1, "startIndex": 150, "lines": ["Sachez aussi, si par ailleurs vous utilisez un gestionnaire de paquets comme `rpm` sur RHEL, `apt-get` sur Debian, ou `port` sur macOS, que de nombreux paquets sont \u00e9galement disponibles au travers de ces outils."]}, {"block": 41, "type": "markdown", "linesLength": 1, "startIndex": 151, "lines": ["### Anaconda"]}, {"block": 42, "type": "markdown", "linesLength": 3, "startIndex": 152, "lines": ["Sachez qu'il existe beaucoup de distributions alternatives qui incluent Python\u00a0; parmi elles, la plus populaire est sans aucun doute [Anaconda](https://www.anaconda.com/), qui contient un grand nombre de biblioth\u00e8ques de calcul scientifique, et \u00e9galement d'ailleurs Jupyter pour travailler nativement sur des notebooks au format `.ipynb`.\n", "\n", "Anaconda vient avec son propre gestionnaire de paquets pour l'installation de biblioth\u00e8ques suppl\u00e9mentaires qui s'appelle `conda`."]}]