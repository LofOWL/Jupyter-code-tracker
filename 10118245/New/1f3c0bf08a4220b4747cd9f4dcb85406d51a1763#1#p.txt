[{"block": 0, "type": "markdown", "linesLength": 5, "startIndex": 0, "lines": ["<style>div.title-slide {    width: 100%;    display: flex;    flex-direction: row;            /* default value; can be omitted */    flex-wrap: nowrap;              /* default value; can be omitted */    justify-content: space-between;}</style><div class=\"title-slide\">\n", "<span style=\"float:left;\">Licence CC BY-NC-ND</span>\n", "<span>Thierry Parmentelat &amp; Arnaud Legout</span>\n", "<span><img src=\"media/both-logos-small-alpha.png\" style=\"display:inline\" /></span>\n", "</div>"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 5, "lines": ["# Gestion de sous-process"]}, {"block": 2, "type": "markdown", "linesLength": 1, "startIndex": 6, "lines": ["## Compl\u00e9ment - niveau (tr\u00e8s) avanc\u00e9"]}, {"block": 3, "type": "markdown", "linesLength": 1, "startIndex": 7, "lines": ["Dans ce second notebook, nous allons \u00e9tudier un deuxi\u00e8me programme python, qui s'appelle `game.py`. "]}, {"block": 4, "type": "markdown", "linesLength": 1, "startIndex": 8, "lines": ["### Fonctions de `game.py`"]}, {"block": 5, "type": "markdown", "linesLength": 7, "startIndex": 9, "lines": ["Son travail va consister \u00e0 faire plusieurs choses en m\u00eame temps; pour rester le plus simple possible, on va se contenter des trois fonctions suivantes\u00a0:\n", "\n", "* *scheduler* (chef d'orchestre)\u00a0: on veut lancer \u00e0 des moments pr\u00e9programm\u00e9s des instances (sous-processes) de `players.py`\u00a0;\n", "\n", "* *multiplexer* (agr\u00e9gateur) : on veut lire et imprimer au fur et \u00e0 mesure les messages \u00e9mis par les sous-processes\u00a0;\n", "\n", "* horloge : on veut \u00e9galement afficher chaque seconde le temps \u00e9coul\u00e9 depuis le d\u00e9but."]}, {"block": 6, "type": "markdown", "linesLength": 1, "startIndex": 16, "lines": ["Ce que j'ai essay\u00e9 d'illustrer comme ceci\u00a0:"]}, {"block": 7, "type": "markdown", "linesLength": 1, "startIndex": 17, "lines": ["![](media/game.png)"]}, {"block": 8, "type": "markdown", "linesLength": 1, "startIndex": 18, "lines": ["##### Remarque concernant les notebooks"]}, {"block": 9, "type": "markdown", "linesLength": 1, "startIndex": 19, "lines": ["Lorsqu'on ex\u00e9cute du code python dans un notebook, les entr\u00e9es clavier sont en fait intercept\u00e9es par le browser web; du coup on ne peut pas facilement (du tout?) faire tourner dans un notebook un programme asynchrone qui r\u00e9agirait aussi aux \u00e9v\u00e9nements de type entr\u00e9e clavier. "]}, {"block": 10, "type": "code", "linesLength": 1, "startIndex": 20, "lines": ["!data/game.py"]}, {"block": 11, "type": "markdown", "linesLength": 1, "startIndex": 21, "lines": ["<a href=\"data/game.py\">download the code for `game.py`</a>"]}, {"block": 12, "type": "code", "linesLength": 3, "startIndex": 22, "lines": ["from data.game import main\n", "\n", "main()"]}, {"block": 13, "type": "markdown", "linesLength": 3, "startIndex": 25, "lines": ["# Pour aller plus loin\n", "\n", "https://7webpages.com/blog/writing-online-multiplayer-game-with-python-asyncio-getting-asynchronous/"]}]