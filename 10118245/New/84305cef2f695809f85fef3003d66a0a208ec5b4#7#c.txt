[{"block": 0, "type": "markdown", "linesLength": 1, "startIndex": 0, "lines": ["<span style=\"float:left;\">Licence CC BY-NC-ND</span><span style=\"float:right;\">Thierry Parmentelat &amp; Arnaud Legout&nbsp;<img src=\"media/inria-25-alpha.png\" style=\"display:inline\"></span><br/>"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 1, "lines": ["# Une forme alternative du `if`"]}, {"block": 2, "type": "markdown", "linesLength": 1, "startIndex": 2, "lines": ["## Compl\u00e9ment - niveau basique"]}, {"block": 3, "type": "markdown", "linesLength": 1, "startIndex": 3, "lines": ["### Expressions et instructions"]}, {"block": 4, "type": "markdown", "linesLength": 8, "startIndex": 4, "lines": ["M\u00eame si cela n'a pas \u00e9t\u00e9 \"sous-titr\u00e9\" jusqu'\u00e0 pr\u00e9sent, vous aurez peut-\u00eatre remarqu\u00e9 que les constructions python que nous avons vues jusqu'ici peuvent se ranger en deux familles:\n", "\n", "* d'une part les **expressions** sont les fragments de code qui **retournent une valeur**;\n", "  * c'est le cas lorsqu'on invoque n'importe quel op\u00e9rateur num\u00e9rique, pour les appels de fonction, ...\n", "* d'autre part les **instructions**; \n", "  * dans cette famille, jusqu'ici nous avons vu l'affectation, et `if`, et nous en verrons bien d'autres.\n", "\n", "La diff\u00e9rence essentielle est que les expressions peuvent \u00eatre combin\u00e9es entre elles pour faire des expressions arbitrairement grosses. Aussi, si vous avez un doute pour savoir si vous avez affaire \u00e0 une expression ou \u00e0 une instruction, demandez vous si vous pourriez utiliser ce code **comme membre droit d'une affectation**. Si oui, vous avez une expression.    "]}, {"block": 5, "type": "markdown", "linesLength": 1, "startIndex": 12, "lines": ["### `if` est une instruction"]}, {"block": 6, "type": "markdown", "linesLength": 1, "startIndex": 13, "lines": ["La forme du `if` qui vous a \u00e9t\u00e9 pr\u00e9sent\u00e9e pendant la vid\u00e9o ne peut donc pas servir \u00e0 renvoyer une valeur. Nous allons voir ce que cela implique pour \u00e9crire quelque chose d'aussi simple que *\"affecter \u00e0 y la valeur 12 ou 35, selon que x est vrai ou non\"*."]}, {"block": 7, "type": "markdown", "linesLength": 1, "startIndex": 14, "lines": ["En python donc, `if ` n'est pas une expression, on ne peut pas l'utiliser pour \u00e9crire quelque chose comme : "]}, {"block": 8, "type": "markdown", "linesLength": 2, "startIndex": 15, "lines": ["    # ceci n'est pas du python\n", "    y = ( if x : 12 ; else 35 )"]}, {"block": 9, "type": "markdown", "linesLength": 1, "startIndex": 17, "lines": ["Avec les notions introduites jusqu'ici, il nous faudrait \u00e9crire ceci:"]}, {"block": 10, "type": "code", "linesLength": 6, "startIndex": 18, "lines": ["x = True  # ou quoi que ce soit d'autre\n", "if x:\n", "    y = 12\n", "else:\n", "    y = 35\n", "print(y)"]}, {"block": 11, "type": "markdown", "linesLength": 1, "startIndex": 24, "lines": ["### Expression conditionnelle"]}, {"block": 12, "type": "markdown", "linesLength": 3, "startIndex": 25, "lines": ["On trouve dans de nombreux langages l'\u00e9valuation conditionnelle comme une expression; par exemple en C, pour ceux qui connaissent, on peut \u00e9crire:\n", "\n", "    y = ( x ? 12 : 35 ) /* version C */"]}, {"block": 13, "type": "markdown", "linesLength": 5, "startIndex": 28, "lines": ["Il existe en python une forme dite d'**expression conditionnelle**, qui est une **expression \u00e0 part enti\u00e8re**, avec la syntaxe:\n", "\n", "    <si_vrai> if <condition> else <si_faux> # version python\n", "    \n", "Ainsi on pourrait \u00e9crire l'exemple ci-dessus de mani\u00e8re plus simple et plus concise comme ceci"]}, {"block": 14, "type": "code", "linesLength": 2, "startIndex": 33, "lines": ["y = 12 if x else 35\n", "print(y)"]}, {"block": 15, "type": "markdown", "linesLength": 1, "startIndex": 35, "lines": ["Nous aurons l'occasion de voir de nombreux exemples o\u00f9 cette construction rend le style de programmation plus fonctionnel et plus fluide."]}, {"block": 16, "type": "markdown", "linesLength": 1, "startIndex": 36, "lines": ["## Compl\u00e9ment - niveau interm\u00e9diaire"]}, {"block": 17, "type": "markdown", "linesLength": 1, "startIndex": 37, "lines": ["### Imbrications"]}, {"block": 18, "type": "markdown", "linesLength": 1, "startIndex": 38, "lines": ["Puis cette forme est une expression, on peut l'utiliser .. dans une autre expression conditionnelle, comme ici:"]}, {"block": 19, "type": "code", "linesLength": 11, "startIndex": 39, "lines": ["# on veut calculer en fonction d'une entr\u00e9e x\n", "# une sortie qui vaudra\n", "# -1 si x < -10\n", "# 0 si -10 <= x <= 10\n", "# 1 si x > 10\n", "\n", "x = 5 # ou quoi que ce soit d'autre\n", "\n", "valeur = -1 if x < -10 else 0 if x <= 10 else 1\n", "\n", "print(valeur)"]}, {"block": 20, "type": "markdown", "linesLength": 11, "startIndex": 50, "lines": ["Remarquez bien que dans cet exemple la ligne\n", "\n", "```\n", "valeur = -1 if x < -10 else 0 if x <= 10 else 1\n", "```\n", "\n", "se lit en r\u00e9alit\u00e9 \n", "\n", "```\n", "valeur = -1 if x < -10 else (0 if x <= 10 else 1)\n", "```\n"]}, {"block": 21, "type": "markdown", "linesLength": 1, "startIndex": 61, "lines": ["### Pour en savoir plus"]}, {"block": 22, "type": "markdown", "linesLength": 4, "startIndex": 62, "lines": [" * La section sur les [expressions conditionnelles](https://docs.python.org/2/reference/expressions.html#conditional-expressions) de la documentation python\n", " * Le [PEP308](http://legacy.python.org/dev/peps/pep-0308/) qui r\u00e9sume les discussions ayant donn\u00e9 lieu au choix de la syntaxe adopt\u00e9e\n", "\n", "De mani\u00e8re g\u00e9n\u00e9rale, les PEP rassemblent les discussions pr\u00e9alables \u00e0 toutes les \u00e9volutions majeures du langage python."]}]