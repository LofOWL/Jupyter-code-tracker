[{"block": 0, "type": "code", "linesLength": 25, "startIndex": 0, "lines": ["import pandas as pd\n", "import numpy as np\n", "\n", "%load_ext autoreload\n", "%autoreload 2\n", "\n", "import sys\n", "sys.path.append('../..')\n", "\n", "# Options for pandas\n", "pd.options.display.max_columns = 20\n", "pd.options.display.max_rows = 10\n", "\n", "# Display all cell outputs\n", "from IPython.core.interactiveshell import InteractiveShell\n", "InteractiveShell.ast_node_interactivity = 'all'\n", "\n", "import plotly.plotly as py\n", "import plotly.graph_objs as go\n", "from plotly.offline import iplot, init_notebook_mode\n", "init_notebook_mode(connected=True)\n", "\n", "import cufflinks\n", "cf.go_offline(connected=True)\n", "cf.set_config_file(theme='pearl')\n"]}, {"block": 1, "type": "code", "linesLength": 2, "startIndex": 25, "lines": ["data = pd.read_csv('^GSPC.csv', parse_dates=['Date'], index_col='Date')\n", "data.info()"]}, {"block": 2, "type": "code", "linesLength": 1, "startIndex": 27, "lines": ["data.iplot(y='Adj Close')"]}, {"block": 3, "type": "code", "linesLength": 5, "startIndex": 28, "lines": ["dates = pd.date_range('2008-01-01', 'today', freq='3W-MON')\n", "buys = data.loc[dates, 'Adj Close'].fillna(method='ffill').to_frame()\n", "buys['fraction'] = 60 / buys['Adj Close']\n", "total = buys['fraction'].sum() * data['Adj Close'].iloc[-1]\n", "total, len(buys)"]}, {"block": 4, "type": "code", "linesLength": 1, "startIndex": 33, "lines": ["buys"]}, {"block": 5, "type": "code", "linesLength": 1, "startIndex": 34, "lines": ["dates"]}, {"block": 6, "type": "code", "linesLength": 0, "startIndex": 35, "lines": []}]