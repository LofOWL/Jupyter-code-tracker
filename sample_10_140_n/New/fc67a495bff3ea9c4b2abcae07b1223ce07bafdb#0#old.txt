[{"block": 0, "type": "markdown", "linesLength": 1, "startIndex": 0, "lines": ["# Get your data ready for training"]}, {"block": 1, "type": "markdown", "linesLength": 1, "startIndex": 1, "lines": ["This module defines the basic [`DataBunch`](/basic_data.html#DataBunch) object that is used inside [`Learner`](/basic_train.html#Learner) to train a model. This is the generic class, that can take any kind of fastai [`Dataset`](https://pytorch.org/docs/stable/data.html#torch.utils.data.Dataset) or [`DataLoader`](https://pytorch.org/docs/stable/data.html#torch.utils.data.DataLoader). You'll find helpful functions in the data module of every application to directly create this [`DataBunch`](/basic_data.html#DataBunch) for you."]}, {"block": 2, "type": "code", "linesLength": 2, "startIndex": 2, "lines": ["from fastai.gen_doc.nbdoc import *\n", "from fastai import * "]}, {"block": 3, "type": "code", "linesLength": 1, "startIndex": 4, "lines": ["show_doc(DataBunch, doc_string=False)"]}, {"block": 4, "type": "markdown", "linesLength": 3, "startIndex": 5, "lines": ["Bind together a `train_dl`, a `valid_dl` and optionally a `test_dl`, ensures they are on `device` and apply to them `tfms` as batch are drawn. `path` is used internally to store temporary files, `collate_fn` is passed to the pytorch `Dataloader` (replacing the one there) to explain how to collate the samples picked for a batch. By default, it applies data to the object sent (see in [`vision.image`](/vision.image.html#vision.image) or the [data block API](/data_block.html) why this can be important). \n", "\n", "An example of `tfms` to pass is normalization. `train_dl`, `valid_dl` and optionally `test_dl` will be wrapped in [`DeviceDataLoader`](/basic_data.html#DeviceDataLoader)."]}, {"block": 5, "type": "code", "linesLength": 1, "startIndex": 8, "lines": ["show_doc(DataBunch.create, doc_string=False)"]}, {"block": 6, "type": "markdown", "linesLength": 1, "startIndex": 9, "lines": ["Create a [`DataBunch`](/basic_data.html#DataBunch) from `train_ds`, `valid_ds` and optionally `test_ds`, with batch size `bs` and by using `num_workers`. `tfms` and `device` are passed to the init method."]}, {"block": 7, "type": "code", "linesLength": 1, "startIndex": 10, "lines": ["show_doc(DataBunch.show_batch)"]}, {"block": 8, "type": "code", "linesLength": 1, "startIndex": 11, "lines": ["show_doc(DataBunch.dl)"]}, {"block": 9, "type": "code", "linesLength": 1, "startIndex": 12, "lines": ["show_doc(DataBunch.one_batch)"]}, {"block": 10, "type": "code", "linesLength": 1, "startIndex": 13, "lines": ["show_doc(DataBunch.one_item)"]}, {"block": 11, "type": "code", "linesLength": 1, "startIndex": 14, "lines": ["show_doc(DataBunch.add_tfm)"]}, {"block": 12, "type": "markdown", "linesLength": 1, "startIndex": 15, "lines": ["Adds a transform to all dataloaders."]}, {"block": 13, "type": "code", "linesLength": 1, "startIndex": 16, "lines": ["show_doc(DeviceDataLoader)"]}, {"block": 14, "type": "markdown", "linesLength": 1, "startIndex": 17, "lines": ["Put the batches of `dl` on `device` after applying an optional list of `tfms`. `collate_fn` will replace the one of `dl`. All dataloaders of a [`DataBunch`](/basic_data.html#DataBunch) are of this type. "]}, {"block": 15, "type": "markdown", "linesLength": 1, "startIndex": 18, "lines": ["### Factory method"]}, {"block": 16, "type": "code", "linesLength": 1, "startIndex": 19, "lines": ["show_doc(DeviceDataLoader.create, doc_string=False)"]}, {"block": 17, "type": "markdown", "linesLength": 1, "startIndex": 20, "lines": ["Create a [`DeviceDataLoader`](/basic_data.html#DeviceDataLoader) on `device` from a `dataset` with batch size `bs`, `num_workers`processes and a given `collate_fn`. The dataloader will `shuffle` the data if that flag is set to True, and `tfms` are passed to the init method. All `kwargs` are passed to the pytorch [`DataLoader`](https://pytorch.org/docs/stable/data.html#torch.utils.data.DataLoader) class initialization."]}, {"block": 18, "type": "markdown", "linesLength": 1, "startIndex": 21, "lines": ["### Methods"]}, {"block": 19, "type": "code", "linesLength": 1, "startIndex": 22, "lines": ["show_doc(DeviceDataLoader.add_tfm)"]}, {"block": 20, "type": "markdown", "linesLength": 1, "startIndex": 23, "lines": ["Add a transform (i.e. same as `self.tfms.append(tfm)`)."]}, {"block": 21, "type": "code", "linesLength": 1, "startIndex": 24, "lines": ["show_doc(DeviceDataLoader.remove_tfm)"]}, {"block": 22, "type": "markdown", "linesLength": 1, "startIndex": 25, "lines": ["Remove a transform."]}, {"block": 23, "type": "code", "linesLength": 1, "startIndex": 26, "lines": ["show_doc(DeviceDataLoader.new)"]}, {"block": 24, "type": "code", "linesLength": 1, "startIndex": 27, "lines": ["show_doc(DatasetType, doc_string=False)"]}, {"block": 25, "type": "markdown", "linesLength": 1, "startIndex": 28, "lines": ["Internal enumerator to name the training, validation and test dataset/dataloader."]}, {"block": 26, "type": "markdown", "linesLength": 1, "startIndex": 29, "lines": ["## Undocumented Methods - Methods moved below this line will intentionally be hidden"]}, {"block": 27, "type": "code", "linesLength": 1, "startIndex": 30, "lines": ["show_doc(DeviceDataLoader.proc_batch)"]}, {"block": 28, "type": "markdown", "linesLength": 1, "startIndex": 31, "lines": ["## New Methods - Please document or move to the undocumented section"]}, {"block": 29, "type": "code", "linesLength": 1, "startIndex": 32, "lines": ["show_doc(DataBunch.export)"]}, {"block": 30, "type": "markdown", "linesLength": 0, "startIndex": 33, "lines": []}, {"block": 31, "type": "code", "linesLength": 1, "startIndex": 33, "lines": ["show_doc(DataBunch.load_empty)"]}, {"block": 32, "type": "markdown", "linesLength": 0, "startIndex": 34, "lines": []}, {"block": 33, "type": "code", "linesLength": 1, "startIndex": 34, "lines": ["show_doc(DeviceDataLoader.collate_fn)"]}, {"block": 34, "type": "markdown", "linesLength": 0, "startIndex": 35, "lines": []}]